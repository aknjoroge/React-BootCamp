(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[4],{47:function(e,t,n){e.exports={comments:"Comments_comments__3-HGd"}},48:function(e,t,n){e.exports={item:"CommentItem_item__3uO01"}},49:function(e,t,n){e.exports={comments:"CommentsList_comments__19pqB"}},50:function(e,t,n){e.exports={form:"NewCommentForm_form__24KVl",loading:"NewCommentForm_loading__2vDAH",control:"NewCommentForm_control__1coC3",actions:"NewCommentForm_actions__2iDha"}},51:function(e,t,n){e.exports={quote:"HighlightedQuote_quote__1fAF4"}},55:function(e,t,n){"use strict";n.r(t);var c=n(35),r=n.n(c),s=n(36),a=n(38),o=n(0),i=n(2),j=n(8),u=n(43);var m=n(42);function b(e){return function(e){if(Array.isArray(e))return Object(u.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(m.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=n(40),l=n(39),O=n(37),h=n(14),x=n(47),f=n.n(x),p=n(48),v=n.n(p),_=n(1),N=function(e){return Object(_.jsx)("li",{className:v.a.item,children:Object(_.jsx)("p",{children:e.text})})},g=n(49),w=n.n(g),q=function(e){return Object(_.jsx)("ul",{className:w.a.comments,children:e.comments.map((function(e){return Object(_.jsx)(N,{text:e.text},e.id)}))})},C=n(50),D=n.n(C),S=function(e){var t=Object(o.useRef)(),n=Object(o.useState)({}),c=Object(a.a)(n,2),j=c[0],u=c[1],m=Object(d.a)(),b=m.sendRequest,x=m.hasError,f=m.errorMessage,p=m.isLoading,v=m.isSuccess,N=(Object(i.i)(),Object(i.j)()),g=function(){var e=Object(s.a)(r.a.mark((function e(n){var c,s,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c=t.current.value,s=Date.now(),a=N.id,u((function(){return{id:s,quoteID:a,text:c}})),e.next=7,b(Object(l.a)(c,s,a));case 7:e.sent;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return v&&(e.passData(j),e.hide()),x?Object(_.jsx)(o.Fragment,{children:Object(_.jsx)(O.a,{children:Object(_.jsxs)("div",{className:"centered error",children:[Object(_.jsx)("h4",{children:"Error"}),Object(_.jsx)("p",{children:f})]})})}):Object(_.jsxs)("form",{className:D.a.form,onSubmit:g,children:[Object(_.jsxs)("div",{className:D.a.control,onSubmit:g,children:[Object(_.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),p&&Object(_.jsx)(h.a,{}),!p&&Object(_.jsx)("textarea",{required:!0,id:"comment",rows:"5",ref:t})]}),Object(_.jsx)("div",{className:D.a.actions,children:Object(_.jsx)("button",{className:"btn",children:"Add Comment"})})]})},y=function(){var e=Object(i.j)(),t=Object(o.useState)(!1),n=Object(a.a)(t,2),c=n[0],j=n[1],u=Object(o.useState)(!0),m=Object(a.a)(u,2),x=m[0],p=m[1],v=Object(o.useState)([]),N=Object(a.a)(v,2),g=N[0],w=N[1],C=Object(d.a)(),D=C.sendRequest,y=C.hasError,F=C.errorMessage,I=C.isLoading;C.isSuccess;Object(o.useEffect)(Object(s.a)(r.a.mark((function t(){var n,c,s,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(Object(l.c)());case 2:for(s in n=t.sent,c=[],n)c.push({id:n[s].id,quoteID:n[s].quoteID,text:n[s].text});a=c.filter((function(t){return t.quoteID==e.id})),w((function(e){return a})),p(!c.length>0);case 8:case"end":return t.stop()}}),t)}))),[]);if(y)return Object(_.jsx)(o.Fragment,{children:Object(_.jsx)(O.a,{children:Object(_.jsxs)("div",{className:"centered error",children:[Object(_.jsx)("h1",{children:"Error"}),Object(_.jsx)("h2",{children:F})]})})});var k=!x&&!I,E=x&&!I;return Object(_.jsxs)("section",{className:f.a.comments,children:[Object(_.jsx)("h2",{className:"mt",children:"User Comments"}),!c&&Object(_.jsx)("button",{className:"btn mb",onClick:function(){j(!0)},children:"Add a Comment"}),c&&Object(_.jsx)(S,{hide:function(){j(!1)},passData:function(e){w((function(t){return[].concat(b(t),[{id:e.id,quoteID:e.quoteID,text:e.text}])}))}}),I&&Object(_.jsx)(h.a,{}),k&&Object(_.jsx)(q,{comments:g}),E&&Object(_.jsx)("p",{children:"No quote found"})]})},F=n(51),I=n.n(F),k=function(e){return Object(_.jsxs)("figure",{className:I.a.quote,children:[Object(_.jsx)("p",{children:e.text}),Object(_.jsx)("figcaption",{children:e.author})]})};t.default=function(){var e=Object(i.j)(),t=Object(o.useState)([]),n=Object(a.a)(t,2),c=n[0],u=n[1],m=Object(d.a)(),b=m.sendRequest,O=m.hasError,x=(m.errorMessage,m.isLoading);m.isSuccess,Object(o.useEffect)(Object(s.a)(r.a.mark((function t(){var n,c,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(Object(l.d)());case 2:for(s in n=t.sent,c=[],n)c.push({author:n[s].author,id:n[s].id,text:n[s].text});u((function(){return c.find((function(t){return t.id==e.id}))}));case 6:case"end":return t.stop()}}),t)}))),[]);var f=Object(i.k)(),p=!x&&!O;return Object(_.jsx)(o.Fragment,{children:Object(_.jsxs)("div",{className:"centered m-10",children:[Object(_.jsx)("h2",{children:" Quote Details "}),x&&Object(_.jsx)(h.a,{}),p&&Object(_.jsxs)("div",{children:[Object(_.jsx)(k,{author:c.author,text:c.text}),Object(_.jsx)(i.c,{path:f.path,exact:!0,children:Object(_.jsx)(j.b,{className:"btn ",to:"".concat(f.url,"/comment"),children:"View Comment"})}),Object(_.jsxs)(i.c,{path:"".concat(f.path,"/comment"),children:[Object(_.jsx)(y,{}),Object(_.jsx)(j.b,{className:"btn-basic block mt border-none",to:"".concat(f.url),children:"Hide comment"})]})]})]})})}}}]);
//# sourceMappingURL=4.c6ea8d5f.chunk.js.map